var degreeToRadiansFactor=Math.PI/180;function degToRad(a){return a*degreeToRadiansFactor}function orientationControl(a){function b(){i={},k=a.quaternion.clone(),f(),window.addEventListener('orientationchange',f,!1),window.addEventListener('deviceorientation',e,!1),h=!0}function e(m){i=m}function f(){j=window.orientation||0}a.rotation.reorder('YXZ');var k,h=!1,i={},j=0,l=function(){var m=new THREE.Euler,n=new THREE.Quaternion,o=new THREE.Quaternion,p=new THREE.Quaternion(-Math.sqrt(0.5),0,0,Math.sqrt(0.5)),q=0;return function(r,s,t,u,v){r.copy(k),m.set(t,s,-u,'YXZ'),r.multiply(n.setFromEuler(m)),q=-v/2,o.set(0,Math.sin(q),0,Math.cos(q)),r.multiply(o),r.multiply(p)}}();return b(),{update:function(){if(h){var m=i.alpha?degToRad(i.alpha):0,n=i.beta?degToRad(i.beta):0,o=i.gamma?degToRad(i.gamma):0,p=j?degToRad(j):0;l(a.quaternion,m,n,o,p)}},connect:b,disconnect:function(){h=!1,window.removeEventListener('orientationchange',f,!1),window.removeEventListener('deviceorientation',e,!1)}}}
